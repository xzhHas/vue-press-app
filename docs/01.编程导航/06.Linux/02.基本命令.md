---
title: 基本命令
date: 2024-07-18 16:05:50
permalink: /pages/1b7908/
---

# 一、文件与目录相关命令

- 文件的管理命令

  touch rm mv ls

  touch：创建空文件和更新时间戳

  ls：查看目录下内容

  mv：移动文件或重命名文件

- 目录的管理命令

  mkdir rm（默认只能删除文件，删除目录需要添加选项 -r） mv ls

- 目录的切换

  pwd cd

  pwd：查看当前工作目录

- 文件内容的增加与查看

  echo(vim/vi) cat

  echo：文本输出，后面加什么就是输出什么

  符号：> （箭头） 叫做输出重定向，箭头的朝向就是数据的流向

  cat ：查看文件内容

- 拷贝目录或文件（默认只能拷贝文件，拷贝目录需要添加选项）

  cp

# 二、文件查询相关命令

- 通常用于显示命令的全路径（linux 中一切皆文件）

  whilch

  **例 1、使用 which 命令查找 rm 命令的全路径，并查看这个文件的详细信息：**

  ```c
  which rm
  ls -l [路径]
  ```

- 查找文件（非常重要的命令，经常使用）

  find

  常用命令选项：

  -type 指定类型 f：指定文件 d：指定目录 l：指定软连接

  -name：指定文件名称

  -o：或

  -mtime：按修改时间查找，默认单位为天 -1 +1 就是超过一天

  -exec：对找到的文件进行某些执行操作（还有更好用的方法，那就是使用管道 | ）

  管道（ | ）：就是前面的结果丢给后面的命令处理

  -xargs：分组的命令（将多列内容转变为一行）

  **例 2、使用 find 命令查找/root 目录下创建时间在一天之内并且文件名以.txt 结尾的文件：(\*表示所有文件)**

  ```c
  find /root -type f -mtime -1 -name "*.txt"
  ```

  **例 3、使用 find 命令查找/root 目录下所有以.log 结尾的文件，并将他们删除：**

  ```c
  //1.find 自带exec操作命令
  find /root -type f -name "*.log" -exec rm {} \;
  //2.使用管道
  find /root -type f -name "*.log" | xargs rm
  ```

  **例 4、使用 find 命令查找/root 目录下的以.tar.gz 结尾的文件，并将它们移动到/tmp 目录下：**

  ```c
  find /root -type f -name "*.tar.gz" -exec mv {} /tmp \;
  ```

# 三、权限相关命令

**_在 linux 中一个文件或目录被创建后，对于文件来说有三种身份：用户（属主或文件所有者）、组（）、其他人_**

- 修改文件权限（修改文件时，有两种方法：字母表示法，数字表示法（常用））

  chmod

- 设置默认权限（不常用）（默认在 linux 中，创建文件或目录后都是有默认的固定权限，文件默认为 644，目录默认为 755）

  umask

- 设置文件访问控制列表

  setfacl

- 查看文件访问控制

  getfacl

- 修改文件的用户（所有者）和组

  chown

- 查看隐藏权限

  lsattr

- 用户设置隐藏权限

  chattr

# 四、用户和组相关命令

- 创建用户 的命令

  useradd

  常用选项：-u 指定 uid -M 不创建目录 -s 指定登录命令 解释器

- 创建组的命令

  groupadd

  常用选项： -g 指定 gid

- 查看用户的 uid 和 gid（在 linux 中用户创建后，默认就会分配给它一个 uid 和 gid）

  id

- 删除用户

  userdel

- 修改用户

  usermod

- 用于切换用户，并且可以以其它用户身份执行命令

  su

- 用于设置用户密码

  passwd

  常用选项：--stdin 不交互设置密码

- 用于查看用户和修改用户密码相关信息

  chage

**例、**

(1)使用 useradd 命令创建一个名为 zs123 的用户，这个用户没有家目录，uid 为 888，bash 为/sbin/nologin;

(2)使用 id 命令查看 zs123 用户的信息；

(3)创建 aagroup 组，指定 gid 为 1222；

(4)创建 aa123 用户，加入到 aagroup 组中并以不交互的方式设置密码，密码为 123456；

(5)查看 aa123 用户的密码信息，要求用户 7 天内不能修改密码，30 天后密码过期，密码过期 3 天后被禁用，密码过期 7 天提醒修改密码；

(6)删除创建的系统用户 zs123，并且要求清除其邮件文件与家目录；

(7)使用 su 命令切换到 aa123 用户下执行一次 pwd 命令，让后返回到 root 用户下（一条命令完成）

```c
useradd -u 888 -s /sbin/nologin

id zs123

groupadd -g 1222 aagroup

echo "123456"|passwd --stdin aa123

chage -l aa123  (查看)
chage -m 7 -M 30 -I 3 -W 7 aa123  (修改)

userdel -r zs123

su - aa123 -c pwd
```

# 五、磁盘分区相关命令

linux 磁盘的使用流程：一个磁盘->分区->格式化(创建文件系统)->挂载(开个入口)->正常使用

目录：也称之为挂载点

- 最常用的磁盘分区命令（分区）

  fdisk

- 格式化的命令（格式化）

  mkfs

- 挂载与取消挂载（挂载）

  mount

- 查看块设备（硬盘、磁盘、分区都属于块设备）

  lsblk

- 打印（显示）文件系统磁盘的使用情况

  df

# 六、网络相关命令

主机名、网卡、路由、开放端口等信息

- 查看所有端口信息

  netstat -tulpn

- 查看和设置主机名，设置的主机名是临时生效的

  hostname

- 管理系统主机名，设置的主机名永久生效，但是当前不生效

  hostnamectl

- 是 centos7 中默认管理网络相关信息的命令，功能十分强大

  ip

- 管理网络接口的命令，centos7 之前的版本默认推荐使用

  ifconfig

- 7 版本中默认自带，查看 socker 状态信息的命令，通常用于查看当前服务器的连接并发，查看当前服务器开放的端口等等

  ss

- 是 7 之前的版本默认自带，功能与 ss 类似，推荐使用 ss 命令，因为效率更高

  metstat

# 七、系统监控相关命令

单机环境下监控的命令：

- 打印当前进程的快照信息，是静态的进程信息（进程即运行中的程序）

  ps

- 显示进程相关信息，动态

  top

- 显示内存相关的信息

  free

- 查看磁盘使用情况的命令

  df
